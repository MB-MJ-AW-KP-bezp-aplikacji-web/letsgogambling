{% extends "base.html" %}
{% load static %}

{% block title %}Slots{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/quick-buttons.css' %}">
<link rel="stylesheet" href="{% static 'css/slots.css' %}">
{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto px-4">
    <h1 class="font-casino text-4xl text-center text-neon-gold text-glow-gold mb-8 tracking-wider">SLOTS</h1>

    <div class="card-casino rounded-2xl p-6 mb-8">
        <div class="flex justify-between items-center mb-6">
            <span class="text-gray-400"></span>
            <span class="font-casino text-2xl text-neon-gold">$<span id="balance">0</span></span>
        </div>

        <div class="text-center text-gray-400 text-sm mb-2">Number of Machines</div>
        <div class="machine-count-selector">
            <button class="machine-count-btn selected" data-count="1">1</button>
            <button class="machine-count-btn" data-count="2">2</button>
            <button class="machine-count-btn" data-count="3">3</button>
            <button class="machine-count-btn" data-count="4">4</button>
            <button class="machine-count-btn" data-count="5">5</button>
        </div>

        <div id="machines-container" class="machines-container">
            <!-- Machines will be generated by JS -->
        </div>

        <div id="message" class="text-center text-xl font-casino"></div>

        <div class="flex flex-col items-center gap-3">
            <div class="quick-buttons">
                <button class="quick-btn clear" data-bet-set="0">CLR</button>
                <button class="quick-btn add" data-bet-add="10">+10</button>
                <button class="quick-btn add" data-bet-add="100">+100</button>
                <button class="quick-btn add" data-bet-add="1000">+1K</button>
                <button class="quick-btn add" data-bet-add="10000">+10K</button>
                <button class="quick-btn modify" data-bet-multiply="0.5">1/2</button>
                <button class="quick-btn modify" data-bet-multiply="2">2X</button>
                <button class="quick-btn allin" data-bet-allin>MAX</button>
            </div>
            <div class="total-bet-display">Total bet: <span id="total-bet">$0</span></div>
            <div class="flex items-center gap-4">
                <div class="flex items-center gap-2">
                    <label class="text-gray-400">Bet each:</label>
                    <input id="bet-amount" type="number" min="1" step="1" value="1"
                           class="input-casino w-24 px-3 py-2 rounded-lg text-center text-xl text-gray-100">
                </div>
                <button id="spin-btn" class="btn-casino px-8 py-3 rounded-lg font-casino text-xl text-white tracking-wider">
                    SPIN
                </button>
            </div>
        </div>
    </div>

    <div class="text-center text-gray-500 text-sm">
        <p>Match 3 in a row or diagonal to win!</p>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script src="{% static 'js/utils.js' %}"></script>
<script src="{% static 'js/slots.js' %}"></script>
{% endblock %}
