{% extends "base.html" %}
{% load static %}

{% block title %}Casino: Coin Flip{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/quick-buttons.css' %}">
<link rel="stylesheet" href="{% static 'css/coinflip.css' %}">
{% endblock %}

{% block content %}
<div class="max-w-lg mx-auto">
    <h1 class="font-casino text-4xl text-center text-neon-gold text-glow-gold mb-4 tracking-wider">COIN FLIP</h1>
    <p class="text-center text-gray-400 mb-8">50/50 chance - Double your money!</p>

    <div class="card-casino rounded-2xl p-6 mb-6">
        <div class="flex justify-between items-center mb-6">
            <span class="text-gray-400">Your Balance</span>
            <span class="font-casino text-2xl text-neon-gold">$<span id="balance">0</span></span>
        </div>

        <div class="space-y-6">
            <div>
                <label class="block text-gray-400 text-sm mb-2">Bet Amount</label>
                <div class="quick-buttons mb-3">
                    <button type="button" class="quick-btn clear" data-bet-set="0">CLR</button>
                    <button type="button" class="quick-btn add" data-bet-add="10">+10</button>
                    <button type="button" class="quick-btn add" data-bet-add="100">+100</button>
                    <button type="button" class="quick-btn add" data-bet-add="1000">+1K</button>
                    <button type="button" class="quick-btn add" data-bet-add="10000">+10K</button>
                    <button type="button" class="quick-btn modify" data-bet-multiply="0.5">1/2</button>
                    <button type="button" class="quick-btn modify" data-bet-multiply="2">2X</button>
                    <button type="button" class="quick-btn allin" data-bet-allin>MAX</button>
                </div>
                <input type="number" id="bet-amount" min="1" step="1"
                       class="input-casino w-full px-4 py-3 rounded-lg text-gray-100 text-xl text-center">
            </div>

            <div>
                <label class="block text-gray-400 text-sm mb-3">Choose Your Side</label>
                <div class="grid grid-cols-2 gap-4">
                    <div class="coin-option card-casino rounded-xl p-6 text-center border-2 border-gray-700" data-choice="0">
                        <div class="text-4xl mb-2">ðŸ‘‘</div>
                        <div class="font-casino text-lg text-gray-300">HEADS</div>
                    </div>
                    <div class="coin-option card-casino rounded-xl p-6 text-center border-2 border-gray-700" data-choice="1">
                        <div class="text-4xl mb-2">ðŸ¦…</div>
                        <div class="font-casino text-lg text-gray-300">TAILS</div>
                    </div>
                </div>
            </div>

            <button id="flip-btn" class="btn-casino w-full py-4 rounded-lg font-casino text-xl text-white tracking-wider">
                FLIP COIN
            </button>
        </div>
    </div>

    <div id="result-card" class="result-card card-casino rounded-2xl p-6 text-center">
        <div id="result-emoji" class="text-5xl mb-3"></div>
        <p id="result-text" class="font-casino text-2xl"></p>
        <p id="result-subtext" class="mt-2"></p>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script src="{% static 'js/utils.js' %}"></script>
<script src="{% static 'js/coinflip.js' %}"></script>
{% endblock %}
